<!DOCTYPE html>

<html lang="en">
<head>
<!-- Basic Page Needs
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
<meta charset="utf-8"/>
<title>Gallery — nbsite 0.6.0 documentation</title>
<meta content="Build a tested, sphinx-based website from notebooks." name="description"/>
<meta content="PyViz developers" name="author"/>
<!-- Mobile Specific Metas
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<!-- FONT
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"></script>
<script>
    WebFont.load({
      google: {
        families: ['Source Sans Pro']
      }
    });
  </script>
<!-- CSS
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
<link href="_static/css/main.css" rel="stylesheet"/>
<link href="_static/nbsite.css" rel="stylesheet"/>
<link href="_static/nbsitesite.css" rel="stylesheet"/>
<!-- Scripts
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML" type="text/javascript">
</script>
<script src="_static/js/main.js"></script>
<script src="_static/nbsite.js"></script>
<script src="_static/require.js"></script>
<!-- Favicon
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
<link href="_static/favicon.ico" rel="icon" type="image/png"/>
<!-- Canonical
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
<link href="/gallery.html" rel="canonical">
</link></head>
<body class="">
<header class="navigation">
<div class="wrapper">
<a class="logo" href="index.html">
<img alt="Logo" src="_static/nbsite-logo.png"/>
</a>
<a class="navigation-menu logo-text" href="index.html">nbsite</a>
<a class="navigation-menu-button" href="javascript:void(0)" id="js-mobile-menu">Menu</a>
<nav>
<ul class="navigation-menu show" id="js-navigation-menu">
<li class="nav-link"><div style="display:inline-block;vertical-align: middle;"><div class="search-bar"><form action="search.html" method="get" role="search">
<input name="q" placeholder="Search" type="search"/>
<button type="submit">
<img alt="Search Icon" src="https://raw.githubusercontent.com/thoughtbot/refills/master/source/images/search-icon-black.png"/>
</button>
</form>
</div></div></li>
</ul>
</nav>
</div>
</header>
<!-- MAIN BODY OF DOCS –––––––––––––––––– -->
<div class="docs section">
<div id="hacketyhackhack"> <!-- style="width:20%;margin-right: 100px;"> --> <!--style="display: none;"> style="display:none;"> -->
<div class="toc" style="width:15%; margin-right:20px;">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Usage.html">Usage</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Gallery</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#activating-the-extension">Activating the extension</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuring-the-extension">Configuring the extension</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#file-extension">File extension</a></li>
<li class="toctree-l3"><a class="reference internal" href="#directory-structure">Directory structure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#section-structure">Section structure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#gallery-backends">Gallery backends</a></li>
<li class="toctree-l3"><a class="reference internal" href="#thumbnail-downloads">Thumbnail downloads</a></li>
<li class="toctree-l3"><a class="reference internal" href="#github-configuration">Github Configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">FAQ</a></li>
</ul>
</div>
</div>
<div class="content"> <!-- style="max-width:80%;margin-left:auto;margin-right: auto;">-->
<div class="section" id="gallery">
<h1>Gallery<a class="headerlink" href="#gallery" title="Permalink to this headline">¶</a></h1>
<p>The nbsite gallery is a Sphinx extension to build a gallery from
directory of notebook examples containing HoloViews plots. The
extension creates thumbnails from Python scripts or Jupyter notebooks
examples, builds a gallery index page and individual pages for each of
the examples in the gallery. The <code class="docutils literal notranslate"><span class="pre">nbsite.gallery</span></code> can be activated
like any other sphinx extension:</p>
<div class="section" id="activating-the-extension">
<span id="activating-gallery"></span><h2>Activating the extension<a class="headerlink" href="#activating-the-extension" title="Permalink to this headline">¶</a></h2>
<p>To enable the extension add it to the list of extensions in
<code class="docutils literal notranslate"><span class="pre">conf.py</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">extensions</span> <span class="o">+=</span> <span class="p">[</span><span class="s1">'nbsite.gallery'</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="configuring-the-extension">
<span id="configuring-gallery"></span><h2>Configuring the extension<a class="headerlink" href="#configuring-the-extension" title="Permalink to this headline">¶</a></h2>
<p>The nbsite.gallery is primarily configured via the conf.py file by
defining a <code class="docutils literal notranslate"><span class="pre">nbsite_gallery_conf</span></code> dictionary variable, offering the
following options:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">backends</span></code> (<a class="reference internal" href="#gallery-backends"><span class="std std-ref">Gallery backends</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">default_extensions</span></code> (<a class="reference internal" href="#default-extensions"><span class="std std-ref">File extension</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">enable_download</span></code> (<a class="reference internal" href="#thumbnail-download"><span class="std std-ref">Thumbnail downloads</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">examples_dir</span></code> (<a class="reference internal" href="#directory-structure"><span class="std std-ref">Directory structure</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">galleries</span></code> (<a class="reference internal" href="#directory-structure"><span class="std std-ref">Directory structure</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">github_org</span></code> (<a class="reference internal" href="#github-config"><span class="std std-ref">Github Configuration</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">github_project</span></code> (<a class="reference internal" href="#github-config"><span class="std std-ref">Github Configuration</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">skip_execute</span></code> (<a class="reference internal" href="#section-structure"><span class="std std-ref">Section structure</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">thumbnail_url</span></code> (<a class="reference internal" href="#thumbnail-download"><span class="std std-ref">Thumbnail downloads</span></a>)</li>
<li><code class="docutils literal notranslate"><span class="pre">within_subsection_order</span></code> (<a class="reference internal" href="#section-structure"><span class="std std-ref">Section structure</span></a>)</li>
</ul>
<p>A sample configuration might look something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nbsite_gallery_conf</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">'backends'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'bokeh'</span><span class="p">,</span> <span class="s1">'matplotlib'</span><span class="p">],</span>
      <span class="s1">'default_extensions'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'*.ipynb'</span><span class="p">,</span> <span class="s1">'*.py'</span><span class="p">],</span>
      <span class="s1">'enable_download'</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
  <span class="s1">'examples_dir'</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">'..'</span><span class="p">,</span> <span class="s1">'examples'</span><span class="p">),</span>
  <span class="s1">'galleries'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'gallery'</span><span class="p">:</span> <span class="p">{</span><span class="s1">'title'</span><span class="p">:</span> <span class="s1">'Gallery'</span><span class="p">}</span>
  <span class="p">},</span>
  <span class="s1">'github_org'</span><span class="p">:</span> <span class="s1">'pyviz'</span><span class="p">,</span>
  <span class="s1">'github_project'</span><span class="p">:</span> <span class="s1">'geoviews'</span><span class="p">,</span>
      <span class="s1">'thumbnail_url'</span><span class="p">:</span> <span class="s1">'https://assets.holoviews.org/thumbnails'</span><span class="p">,</span>
  <span class="s1">'within_subsection_order'</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">key</span><span class="p">:</span> <span class="n">key</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="file-extension">
<span id="default-extensions"></span><h3>File extension<a class="headerlink" href="#file-extension" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">nbsite.gallery</span></code> can handle two different file types:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">*.py</span></code> files containing a Python script</li>
<li><code class="docutils literal notranslate"><span class="pre">*.ipynb</span></code> files containing a Jupyter notebook</li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">default_extensions</span></code> variable defaults to include both but may
be narrowed down to a single file type.</p>
</div>
<div class="section" id="directory-structure">
<span id="id1"></span><h3>Directory structure<a class="headerlink" href="#directory-structure" title="Permalink to this headline">¶</a></h3>
<p>The most important variables when configuring the gallery are the
<code class="docutils literal notranslate"><span class="pre">examples_dir</span></code> and <code class="docutils literal notranslate"><span class="pre">galleries</span></code> keys, which define the location and
structure of the galleries. The <code class="docutils literal notranslate"><span class="pre">examples_dir</span></code> variable should
define the location of the examples directory relative to the conf.py
file. By default it assumes that relative to the project root the doc
and examples directories are in <code class="docutils literal notranslate"><span class="pre">./doc</span></code> and <code class="docutils literal notranslate"><span class="pre">./examples</span></code>
respectively.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">galleries</span></code> config variable should be specified as a nested
dictionary defining one or more galleries to build. To illustrate this
let us look at a sample <code class="docutils literal notranslate"><span class="pre">galleries</span></code> configuration:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">'galleries'</span><span class="p">:</span> <span class="p">{</span>
  <span class="s1">'gallery'</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">'backends'</span><span class="p">:</span> <span class="p">[],</span>
    <span class="s1">'extensions'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'*.ipynb'</span><span class="p">,</span> <span class="s1">'*.py'</span><span class="p">],</span>
    <span class="s1">'intro'</span><span class="p">:</span> <span class="s1">'Sample intro'</span><span class="p">,</span>
    <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'A sample gallery title'</span><span class="p">,</span>
    <span class="s1">'sections'</span><span class="p">:</span> <span class="p">[],</span>
   <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
</div>
<p>Combined with <code class="docutils literal notranslate"><span class="pre">examples_dir</span></code> variable this declares that it should
look for the examples in <code class="docutils literal notranslate"><span class="pre">./examples/gallery</span></code> directory. Beyond that
a number of different nesting structures are possible depending on the
defined <code class="docutils literal notranslate"><span class="pre">backends</span></code> and <code class="docutils literal notranslate"><span class="pre">sections</span></code>. Defining sections declares that
the examples are further nested into subdirectories, while declaring
<code class="docutils literal notranslate"><span class="pre">backends</span></code> either at the top level or the in the <code class="docutils literal notranslate"><span class="pre">galleries</span></code>
config declares that there are multiple plotting backends to toggle
between. Depending on what is declared the following directory
structure are therefore valid:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">examples_dir</span><span class="o">/</span><span class="n">gallery_name</span><span class="o">/</span><span class="n">section</span><span class="o">/</span><span class="n">backend</span><span class="o">/</span><span class="n">example</span><span class="o">.</span><span class="n">ipynb</span>
<span class="o">./</span><span class="n">examples_dir</span><span class="o">/</span><span class="n">gallery_name</span><span class="o">/</span><span class="n">section</span><span class="o">/</span><span class="n">example</span><span class="o">.</span><span class="n">ipynb</span>
<span class="o">./</span><span class="n">examples_dir</span><span class="o">/</span><span class="n">gallery_name</span><span class="o">/</span><span class="n">backend</span><span class="o">/</span><span class="n">example</span><span class="o">.</span><span class="n">ipynb</span>
<span class="o">./</span><span class="n">examples_dir</span><span class="o">/</span><span class="n">gallery_name</span><span class="o">/</span><span class="n">example</span><span class="o">.</span><span class="n">ipynb</span>
</pre></div>
</div>
<p>Note that if there are multiple <code class="docutils literal notranslate"><span class="pre">backends</span></code> they must be declared but
the <code class="docutils literal notranslate"><span class="pre">sections</span></code> will be discovered automatically if not defined.</p>
<div class="section" id="section-structure">
<span id="id2"></span><h4>Section structure<a class="headerlink" href="#section-structure" title="Permalink to this headline">¶</a></h4>
<p>A section may either be declared as a string or a dictionary which
allows further customization on a per-section basis. If the section is
declared as a string it is assumed it matches sections path and will
be upgraded to title case to add a section header. The dictionary
structure should look like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">'backends'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'bokeh'</span><span class="p">],</span> <span class="s1">'path'</span><span class="p">:</span> <span class="s1">'section_a'</span><span class="p">,</span> <span class="s1">'skip'</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
     <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'Section A'</span><span class="p">,</span> <span class="s1">'within_subsection_order'</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">key</span><span class="p">:</span> <span class="n">key</span><span class="p">}</span>
</pre></div>
</div>
<p>The most important parts of the declaration provide the <code class="docutils literal notranslate"><span class="pre">path</span></code> and
<code class="docutils literal notranslate"><span class="pre">title</span></code> of the subsection. The <code class="docutils literal notranslate"><span class="pre">skip</span></code> key declares whether the
examples in the subsection should actually be executed, which is
sometimes not practical, e.g. for bokeh apps. Alternatively the
examples which should not be executed can also be explicitly declared
using the global <code class="docutils literal notranslate"><span class="pre">skip_execute</span></code> config variable.</p>
<p>The actual ordering of the examples in each subsection is defined by
the global or section specific <code class="docutils literal notranslate"><span class="pre">within_subsection_order</span></code> config
variable, which should define a key function which defines the sort
order.</p>
</div>
</div>
<div class="section" id="gallery-backends">
<span id="id3"></span><h3>Gallery backends<a class="headerlink" href="#gallery-backends" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">backends</span></code> feature in <code class="docutils literal notranslate"><span class="pre">nbsite.gallery</span></code> is built around the
capability of HoloViews to output plots using multiple plotting
backends. A gallery which declares multiple backends will have a set
of toggle buttons added at the top which will allow choosing between
the different backends.</p>
</div>
<div class="section" id="thumbnail-downloads">
<span id="thumbnail-download"></span><h3>Thumbnail downloads<a class="headerlink" href="#thumbnail-downloads" title="Permalink to this headline">¶</a></h3>
<p>In some cases it isn’t practical to automatically generate a thumbnail
for a plot, particularly if it demonstrates some interactive
feature. For such cases <code class="docutils literal notranslate"><span class="pre">nbsite.gallery</span></code> offers the option to fetch
the thumbnail from a remote URL which should match the directory
structure of the <code class="docutils literal notranslate"><span class="pre">examples_dir</span></code>, which may be defined under the
<code class="docutils literal notranslate"><span class="pre">thumbnail_url</span></code> config variable, e.g. for the holoviews thumbnails
are stored under <code class="docutils literal notranslate"><span class="pre">https://assets.holoviews.org/thumbnails</span></code>. To
toggle this behavior on and off you can set the <code class="docutils literal notranslate"><span class="pre">enable_downloads</span></code>
config variable.</p>
</div>
<div class="section" id="github-configuration">
<span id="github-config"></span><h3>Github Configuration<a class="headerlink" href="#github-configuration" title="Permalink to this headline">¶</a></h3>
<p>Each example links back to the location of the script or notebook it
was built from, in order to correctly determine these links the
<code class="docutils literal notranslate"><span class="pre">github_org</span></code> and <code class="docutils literal notranslate"><span class="pre">github_project</span></code> must be defined, declaring the
GitHub organization and repository respectively.</p>
</div>
</div>
</div>
</div>
</div>
<!-- END MAIN BODY OF DOCS ––––––––––––– -->
<footer class="footer">
<div class="footer-links">
<ul>
<li><span class="footer-title">Links</span></li>
</ul>
<ul>
<li><span class="footer-title">Join Us</span></li>
<li><a href="//github.com/pyviz/nbsite">Github</a></li>
</ul>
<ul class="copyright">
<li>PyViz developers</li>
</ul>
</div>
</footer>
<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-61554933-1', 'auto');
  ga('send', 'pageview');

</script>
<!-- MathJax Config -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>
<!-- End Document
  –––––––––––––––––––––––––––––––––––––––––––––––––– -->
</body>
</html>